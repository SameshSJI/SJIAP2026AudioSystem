<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Audio Playlist</title>
<style>
  body { font-family: Arial, sans-serif; background: #fefefe; color: #333; margin: 20px; }
  .dark { background: #222; color: #eee; }
  button { margin: 5px; }
  .track { cursor: pointer; margin: 2px 0; }
  .current { font-weight: bold; }
</style>
</head>
<body>
<h1>Audio Playlist</h1>

<div id="controls">
  <button id="prev">‚èÆÔ∏è Prev</button>
  <button id="play">‚ñ∂Ô∏è Play</button>
  <button id="pause">‚è∏Ô∏è Pause</button>
  <button id="stop">‚èπÔ∏è Stop</button>
  <button id="next">‚è≠Ô∏è Next</button>
  Repeat: <button id="repeat">Off</button>
  <button id="theme">‚òÄÔ∏è Light Mode</button>
  <br>
  Seek: <input type="range" id="seek" value="0" min="0" max="100" style="width: 300px;">
  <span id="time">0:00 / 0:00</span>
  <br>
  Volume: <input type="range" id="volume" min="0" max="1" step="0.01" value="1">
  <button id="mute">Mute</button>
</div>

<ul id="playlist"></ul>

<script>
// Password protection
const password = "SJIUG2026!";
let entered = prompt("Enter password:");
if(entered !== password) { alert("Incorrect password!"); document.body.innerHTML="Access denied"; throw "Access denied"; }

// Track data with corrected folder case
const tracksData = [
  {src:"Audio/0_Right_Marker_March_in.mp3", title:"(0) Right Marker March in"},
  {src:"Audio/1_Supporting_Contingent_March_in.mp3", title:"(1) Supporting Contingent March in"},
  {src:"Audio/2_Commander_march_in_front.mp3", title:"(2) Commander march in front"},
  {src:"Audio/3_Right_dressing.mp3", title:"(3) Right dressing"},
  {src:"Audio/4_School_Rally_GOH_march_in.mp3", title:"(4) School Rally (GOH march in)"},
  {src:"Audio/5_16_beat_drum_roll_GOH_Fan_out.mp3", title:"(5) 16 beat drum roll (GOH Fan out)"},
  {src:"Audio/6_Right_dressing.mp3", title:"(6) Right dressing"},
  {src:"Audio/7_Fanfare_Arrival_of_Reviewing_Officer.mp3", title:"(7) Fanfare (Arrival of Reviewing Officer)"},
  {src:"Audio/8_Salute_No7_Hormat_Reviewing_Officer.mp3", title:"(8) Salute No.7 (Hormat Reviewing Officer)"},
  {src:"Audio/9_Inspection_of_GOH.mp3", title:"(9) Inspection of GOH"},
  {src:"Audio/10_Commander_march_in_front.mp3", title:"(10) Commander march in front"},
  {src:"Audio/11_48_rolls.mp3", title:"(11) 48 rolls"},
  {src:"Audio/12_TENTERA_SINGAPURA_March_Past.mp3", title:"(12) TENTERA SINGAPURA (March Past)"},
  {src:"Audio/12A_March_Past_2_Rally.mp3", title:"(12A) March Past 2 (Rally)"},
  {src:"Audio/13_Commander_march_in_front.mp3", title:"(13) Commander march in front"},
  {src:"Audio/14_Right_dressing.mp3", title:"(14) Right dressing"},
  {src:"Audio/15_Sunset_Flag_Lowering.mp3", title:"(15) Sunset (Flag Lowering)"},
  {src:"Audio/16_Auld_Lang_Syne.mp3", title:"(16) Auld Lang Syne"}
];

let currentTrack = 0;
let repeatMode = "off";
const audio = new Audio();
const playlistEl = document.getElementById("playlist");
const seekEl = document.getElementById("seek");
const timeEl = document.getElementById("time");

// Build playlist UI
tracksData.forEach((track, i) => {
  const li = document.createElement("li");
  li.textContent = track.title;
  li.classList.add("track");
  li.addEventListener("click", () => { playTrack(i); });
  playlistEl.appendChild(li);
});

// Update track highlight
function highlight() {
  document.querySelectorAll(".track").forEach((el, i) => {
    el.classList.toggle("current", i===currentTrack);
  });
}

// Play specific track
function playTrack(i) {
  currentTrack = i;
  audio.src = tracksData[currentTrack].src;
  audio.play();
  highlight();
}
playTrack(0);

// Controls
document.getElementById("play").onclick = () => audio.play();
document.getElementById("pause").onclick = () => audio.pause();
document.getElementById("stop").onclick = () => { audio.pause(); audio.currentTime=0; };
document.getElementById("prev").onclick = () => { currentTrack = (currentTrack-1+tracksData.length)%tracksData.length; playTrack(currentTrack); };
document.getElementById("next").onclick = () => { currentTrack = (currentTrack+1)%tracksData.length; playTrack(currentTrack); };

// Repeat toggle
document.getElementById("repeat").onclick = function() {
  if(repeatMode==="off"){ repeatMode="single"; this.textContent="Repeat: Single"; } 
  else if(repeatMode==="single"){ repeatMode="all"; this.textContent="Repeat: All"; } 
  else { repeatMode="off"; this.textContent="Repeat: Off"; }
};

// Light/Dark mode
document.getElementById("theme").onclick = function() {
  document.body.classList.toggle("dark");
  this.textContent = document.body.classList.contains("dark") ? "üåô Dark Mode" : "‚òÄÔ∏è Light Mode";
};

// Seek / progress
audio.addEventListener("timeupdate", () => {
  seekEl.value = (audio.currentTime/audio.duration)*100 || 0;
  const minCur = Math.floor(audio.currentTime/60);
  const secCur = Math.floor(audio.currentTime%60).toString().padStart(2,"0");
  const minDur = Math.floor(audio.duration/60)||0;
  const secDur = Math.floor(audio.duration%60).toString().padStart(2,"0");
  timeEl.textContent = `${minCur}:${secCur} / ${minDur}:${secDur}`;
});
seekEl.oninput = () => { audio.currentTime = (seekEl.value/100)*audio.duration; };

// Volume
const volumeEl = document.getElementById("volume");
volumeEl.oninput = () => audio.volume = volumeEl.value;
document.getElementById("mute").onclick = () => { audio.muted = !audio.muted; };

// Auto next
audio.addEventListener("ended", () => {
  if(repeatMode==="single"){ playTrack(currentTrack); }
  else if(currentTrack<tracksData.length-1){ playTrack(currentTrack+1); }
  else if(repeatMode==="all"){ playTrack(0); }
});
</script>
</body>
</html>
